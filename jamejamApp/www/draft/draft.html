<!doctype html>
<html>
<head>
    <title>javscript</title>

    <meta charset="utf-8" />
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

	<style>
		.floatsquare {
			width:170px;
			height:170px;
			background-color:gray;
			margin:10px;
			float:left;
		}


		#page {

			width:1000px;
			height:1000px;
			background-color:green;
		}
	</style>
</head>

<body>
	<div id="page">
	<h1> Try to catch me as much as you can :) </h1>
	<h3 id="header"> you have 10 times left!</h2>
	<h3 id="header2"> you've done it 0 times!!!!</h2>
	</br>
		<div class="floatsquare" id="1">

		</div>
		<div class="floatsquare" id="2">

		</div>
		<div class="floatsquare" id="3">

		</div>
		<div class="floatsquare" id="4">

		</div>
		<div class="floatsquare" id="5">

		</div>
		<div class="floatsquare" id="6">

		</div>
		<div class="floatsquare" id="7">

		</div>
		<div class="floatsquare" id="8">

		</div>
		<div class="floatsquare" id="9">

		</div>
		<div class="floatsquare" id="10">

		</div>
		<div class="floatsquare" id="11">

		</div>
		<div class="floatsquare" id="12">

		</div>
		<div class="floatsquare" id="13">

		</div>
		<div class="floatsquare" id="14">

		</div>
		<div class="floatsquare" id="15">

		</div>
		<div class="floatsquare" id="16">

		</div>

		<div class="floatsquare" id="17">

		</div>
		<div class="floatsquare" id="18">

		</div>
		<div class="floatsquare" id="19">

		</div>
		<div class="floatsquare" id="20">

		</div>
	</div>

	<script type="text/javascript">
		var num=10;
		var num2 = 0;
		var flag = false;

			//flag = false;
		var id = Math.floor((Math.random() * 20) + 1);
		var d = document.getElementById(id);

		var myVar = setInterval(function () {pickSquare()}, 500);

		//var id = Math.floor((Math.random() * 20) + 1);
		//id = 1;
		//var d = document.getElementById(id);

		//d.style.backgroundColor="green";
		//d.style.backgroundImage="url('https://media.licdn.com/mpr/mpr/shrink_200_200/p/3/005/011/0b9/1bec887.jpg')";

		//document.getElementById("page").style.cursor = "url('https://media.licdn.com/mpr/mpr/shrink_200_200/p/3/005/011/0b9/1bec887.jpg')";
		var elements = document.getElementsByClassName("floatsquare");
		for(var i=0;i<elements.length;i++)
			elements[i].onclick=function(){

			if (this.id==id) {
				if (num > 0 ) {
					flag=true;
					num2 = num2 + 1;
					var h2 = document.getElementById("header2");
					h2.innerHTML = "you've done it " +  num2 + " times!!!!";
				}
			}
		}





		function pickSquare() {
			if (num>0) {

				if (flag==false) {
					num = num-1;
					var h = document.getElementById("header");
					h.innerHTML = "you have " + num + " times left!";

				}
				flag = false;
				d.style.backgroundImage="none";
				id = Math.floor((Math.random() * 20) + 1);
				d = document.getElementById(id);
				d.style.backgroundImage="url('https://media.licdn.com/mpr/mpr/shrink_200_200/p/3/005/011/0b9/1bec887.jpg')";
				//var y = sleep(900);

			}
		}
		function sleep(miliseconds) {
           var currentTime = new Date().getTime();

           while (currentTime + miliseconds >= new Date().getTime()) {
           }
       }
	</script>

</body>
</html>