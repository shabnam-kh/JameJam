<!DOCTYPE html>
<html lang="en">
<head>

    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1, maximum-scale=1">
    <meta charset="UTF-8"/>
    <!-- Custom styles for this template -->
    <script src="cordova.js"></script>
    <script src="js/notifyAlarm.js"></script>
    <script src="bower_components/jquery/dist/jquery.min.js"></script>
    <script src="bower_components/bootstrap/dist/js/bootstrap.js"></script>
    <script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
    <script src="js/information.js"></script>
    <script src="bower_components/handlebars/handlebars.js"></script>
    <script src="js/function.js"></script>


    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<title>Jame_Jam</title>

<!-- Bootstrap -->
    <!-- Bootstrap core CSS -->
    <link href="bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap theme -->
    <link href="bower_components/bootstrap/dist/css/bootstrap-theme.min.css" rel="stylesheet">
    <style>
        .navbar-brand,
        .navbar-nav li a {
            line-height: 50px;
            height: 50px;
            padding-top: 0;
        }

        #logo {
            width: 150px;
            height: auto;
            border-top: none;
        }

        .large {
            font-size: 200%;
        }

        .btn {
            border: 1px solid grey;
            background-color: #d3d3d3;
        }

        .box {
            background-color: #afd9ee;
        }

        .row {
            background-color: #afd9ee;
        }

        .indicator {
            background-color: red;
            width: 10px;
            height: 10px;
            position: relative;
            z-index: 2;
            top: 10px;
        }

        .activeChillerBtn {
            position: relative;
            z-index: 1;
        }

        .chillerBtn {
            position: relative;
            z-index: 1;
        }

        .guid {
            background-color: darkgrey;
        }

        .indicator {
            background-color: red;
            width: 10px;
            height: 10px;
            position: relative;
            z-index: 2;
            top: 10px;
            color: #080808;
        }

        .indicatorText {
            float: right;
            position: relative;
            z-index: 3;

        }

        .G {
            background-color: dimgray;
        }

        .B {
            background-color: #000000;
        }
    </style>
</head>
<body>
<div class="navbar navbar-default">
    <div class="container">
        <div class="navbar-header">


            <a href="chillerList.html" class="navbar-brand"><img id="logo" src="img/imageedit_2_6147829167.bmp"></a>
        </div>

        <form class="navbar-form navbar-right login">
            <table>
                <tr>
                    <td><p>welcome userTTF </p></td>
                    <td> &nbsp &nbsp</td>
                    <td>
                        <!--<a href="javascript:action()"><span id="icon" class="glyphicon glyphicon-cog large"-->
                        <!--aria-hidden="true"></span></a>-->
                        <ul class="nav nav-pills nav-stacked">
                            <li class="dropdown">
                                <a class="dropdown-toggle" data-toggle="dropdown" href="#"><span id="icon" class="glyphicon glyphicon-cog large"
                        aria-hidden="true"></span></a>
                                <ul class="dropdown-menu">
                                    <li><a href="setting.html">setting</a></li>
                                    <!--<li><a href="javascript:action()">logout</a></li>-->
                                </ul>
                            </li>
                        </ul>

                    </td>
                    <td> &nbsp &nbsp</td>
                    <td>
                        <div class="indicator"></div>
                        <span class="indicatorText">&nbsp &nbsp error</span>

                        </br>
                        <div class="indicator btn-success"></div>
                        <span class="indicatorText">&nbsp run</span>
                    </td>
                </tr>
            </table>
        </form>

    </div>
</div>

<div class="container" id="chillers">
    <!--<div class="alert alert-warning" role="button">connect</div>-->
    <div class="alert alert-danger" role="alertdialog" style="display: none">You Are Not Log In</div>
    <div class="row">
        <div class="col-md-5 box">
            <table>
                <tr>


                    <!--<input  type="button" class="btn" value="Shiraz Doctors Building" disabled/>-->

                </tr>
                <tr>
                    <td>
                        <div class="indicator"></div>
                        <button class="activeChillerBtn"
                                onclick="getActiveChiller(this.value)" value="chiller 01">Shiraz</br>Doctors</br>
                            Building
                        </button>
                    </td>
                    <td>
                        <div class="indicator"></div>
                        <button class="chillerBtn"
                                onclick="getActiveChiller(this.value)" value="chiller 11">chiller&nbsp&nbsp&nbsp</br>
                            #</br>11&nbsp&nbsp&nbsp
                        </button>
                    </td>
                    <td>
                        <div class="indicator"></div>
                        <button class="chillerBtn"
                                onclick="getActiveChiller(this.value)" value="chiller 21">chiller&nbsp&nbsp&nbsp</br>
                            #</br>21&nbsp&nbsp&nbsp
                        </button>
                    </td>
                    <td>
                        <div class="indicator"></div>
                        <button class="chillerBtn"
                                onclick="getActiveChiller(this.value)" value="chiller 31">chiller&nbsp&nbsp&nbsp</br>
                            #</br>31&nbsp&nbsp&nbsp
                        </button>
                    </td>
                    <td>
                        <div class="indicator"></div>
                        <button class="chillerBtn"
                                onclick="getActiveChiller(this.value)" value="chiller 41">chiller&nbsp&nbsp&nbsp</br>
                            #</br>41&nbsp&nbsp&nbsp
                        </button>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="indicator"></div>
                        <button class="chillerBtn"
                                onclick="getActiveChiller(this.value)" value="chiller 02">chiller&nbsp&nbsp&nbsp</br>
                            #</br>02&nbsp&nbsp&nbsp
                        </button>
                    </td>
                    <td>
                        <div class="indicator"></div>
                        <button class="chillerBtn"
                                onclick="getActiveChiller(this.value)" value="chiller 12">chiller&nbsp&nbsp&nbsp</br>
                            #</br>12&nbsp&nbsp&nbsp
                        </button>
                    </td>
                    <td>
                        <div class="indicator"></div>
                        <button class="chillerBtn"
                                onclick="getActiveChiller(this.value)" value="chiller 22">chiller&nbsp&nbsp&nbsp</br>
                            #</br>22&nbsp&nbsp&nbsp
                        </button>
                    </td>
                    <td>
                        <div class="indicator"></div>
                        <button class="chillerBtn"
                                onclick="getActiveChiller(this.value)" value="chiller 32">chiller&nbsp&nbsp&nbsp</br>
                            #</br>32&nbsp&nbsp&nbsp
                        </button>
                    </td>
                    <td>
                        <div class="indicator"></div>
                        <button class="chillerBtn"
                                onclick="getActiveChiller(this.value)" value="chiller 42">chiller&nbsp&nbsp&nbsp</br>
                            #</br>42&nbsp&nbsp&nbsp
                        </button>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="indicator"></div>
                        <button class="chillerBtn"
                                onclick="getActiveChiller(this.value)" value="chiller 03">chiller&nbsp&nbsp&nbsp</br>
                            #</br>03&nbsp&nbsp&nbsp
                        </button>
                    </td>
                    <td>
                        <div class="indicator"></div>
                        <button class="chillerBtn"
                                onclick="getActiveChiller(this.value)" value="chiller 13">chiller&nbsp&nbsp&nbsp</br>
                            #</br>13&nbsp&nbsp&nbsp
                        </button>
                    </td>
                    <td>
                        <div class="indicator"></div>
                        <button class="chillerBtn"
                                onclick="getActiveChiller(this.value)" value="chiller 23">chiller&nbsp&nbsp&nbsp</br>
                            #</br>23&nbsp&nbsp&nbsp
                        </button>
                    </td>
                    <td>
                        <div class="indicator"></div>
                        <button class="chillerBtn"
                                onclick="getActiveChiller(this.value)" value="chiller 33">chiller&nbsp&nbsp&nbsp</br>
                            #</br>33&nbsp&nbsp&nbsp
                        </button>
                    </td>
                    <td>
                        <div class="indicator"></div>
                        <button class="chillerBtn"
                                onclick="getActiveChiller(this.value)" value="chiller 43">chiller&nbsp&nbsp&nbsp</br>
                            #</br>43&nbsp&nbsp&nbsp
                        </button>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="indicator"></div>
                        <button class="chillerBtn"
                                onclick="getActiveChiller(this.value)" value="chiller 04">chiller&nbsp&nbsp&nbsp</br>
                            #</br>04&nbsp&nbsp&nbsp
                        </button>
                    </td>
                    <td>
                        <div class="indicator"></div>
                        <button class="chillerBtn"
                                onclick="getActiveChiller(this.value)" value="chiller 14">chiller&nbsp&nbsp&nbsp</br>
                            #</br>14&nbsp&nbsp&nbsp
                        </button>
                    </td>
                    <td>
                        <div class="indicator"></div>
                        <button class="chillerBtn"
                                onclick="getActiveChiller(this.value)" value="chiller 24">chiller&nbsp&nbsp&nbsp</br>
                            #</br>24&nbsp&nbsp&nbsp
                        </button>
                    </td>
                    <td>
                        <div class="indicator"></div>
                        <button class="chillerBtn"
                                onclick="getActiveChiller(this.value)" value="chiller 34">chiller&nbsp&nbsp&nbsp</br>
                            #</br>34&nbsp&nbsp&nbsp
                        </button>
                    </td>
                    <td>
                        <div class="indicator"></div>
                        <button class="chillerBtn"
                                onclick="getActiveChiller(this.value)" value="chiller 44">chiller&nbsp&nbsp&nbsp</br>
                            #</br>44&nbsp&nbsp&nbsp
                        </button>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="indicator"></div>
                        <button class="chillerBtn"
                                onclick="getActiveChiller(this.value)" value="chiller 05">chiller&nbsp&nbsp&nbsp</br>
                            #</br>05&nbsp&nbsp&nbsp
                        </button>
                    </td>
                    <td>
                        <div class="indicator"></div>
                        <button class="chillerBtn"
                                onclick="getActiveChiller(this.value)" value="chiller 15">chiller&nbsp&nbsp&nbsp</br>
                            #</br>15&nbsp&nbsp&nbsp
                        </button>
                    </td>
                    <td>
                        <div class="indicator"></div>
                        <button class="chillerBtn"
                                onclick="getActiveChiller(this.value)" value="chiller 25">chiller&nbsp&nbsp&nbsp</br>
                            #</br>25&nbsp&nbsp&nbsp
                        </button>
                    </td>
                    <td>
                        <div class="indicator"></div>
                        <button class="chillerBtn"
                                onclick="getActiveChiller(this.value)" value="chiller 35">chiller&nbsp&nbsp&nbsp</br>
                            #</br>35&nbsp&nbsp&nbsp
                        </button>
                    </td>
                    <td>
                        <div class="indicator"></div>
                        <button class="chillerBtn"
                                onclick="getActiveChiller(this.value)" value="chiller 45">chiller&nbsp&nbsp&nbsp</br>
                            #</br>45&nbsp&nbsp&nbsp
                        </button>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="indicator"></div>
                        <button class="chillerBtn"
                                onclick="getActiveChiller(this.value)" value="chiller 06">chiller&nbsp&nbsp&nbsp</br>
                            #</br>06&nbsp&nbsp&nbsp
                        </button>
                    </td>
                    <td>
                        <div class="indicator"></div>
                        <button class="chillerBtn"
                                onclick="getActiveChiller(this.value)" value="chiller 16">chiller&nbsp&nbsp&nbsp</br>
                            #</br>16&nbsp&nbsp&nbsp
                        </button>
                    </td>
                    <td>
                        <div class="indicator"></div>
                        <button class="chillerBtn"
                                onclick="getActiveChiller(this.value)" value="chiller 26">chiller&nbsp&nbsp&nbsp</br>
                            #</br>26&nbsp&nbsp&nbsp
                        </button>
                    </td>
                    <td>
                        <div class="indicator"></div>
                        <button class="chillerBtn"
                                onclick="getActiveChiller(this.value)" value="chiller 36">chiller&nbsp&nbsp&nbsp</br>
                            #</br>36&nbsp&nbsp&nbsp
                        </button>
                    </td>
                    <td>
                        <div class="indicator"></div>
                        <button class="chillerBtn"
                                onclick="getActiveChiller(this.value)" value="chiller 46">chiller&nbsp&nbsp&nbsp</br>
                            #</br>46&nbsp&nbsp&nbsp
                        </button>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="indicator"></div>
                        <button class="chillerBtn"
                                onclick="getActiveChiller(this.value)" value="chiller 07">chiller&nbsp&nbsp&nbsp</br>
                            #</br>42&nbsp&nbsp&nbsp
                        </button>
                    </td>
                    <td>
                        <div class="indicator"></div>
                        <button class="chillerBtn"
                                onclick="getActiveChiller(this.value)" value="chiller 17">chiller&nbsp&nbsp&nbsp</br>
                            #</br>17&nbsp&nbsp&nbsp
                        </button>
                    </td>
                    <td>
                        <div class="indicator"></div>
                        <button class="chillerBtn"
                                onclick="getActiveChiller(this.value)" value="chiller 27">chiller&nbsp&nbsp&nbsp</br>
                            #</br>27&nbsp&nbsp&nbsp
                        </button>
                    </td>
                    <td>
                        <div class="indicator"></div>
                        <button class="chillerBtn"
                                onclick="getActiveChiller(this.value)" value="chiller 37">chiller&nbsp&nbsp&nbsp</br>
                            #</br>37&nbsp&nbsp&nbsp
                        </button>
                    </td>
                    <td>
                        <div class="indicator"></div>
                        <button class="chillerBtn"
                                onclick="getActiveChiller(this.value)" value="chiller 47">chiller&nbsp&nbsp&nbsp</br>
                            #</br>47&nbsp&nbsp&nbsp
                        </button>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="indicator"></div>
                        <button class="chillerBtn"
                                onclick="getActiveChiller(this.value)" value="chiller 08">chiller&nbsp&nbsp&nbsp</br>
                            #</br>08&nbsp&nbsp&nbsp
                        </button>
                    </td>
                    <td>
                        <div class="indicator"></div>
                        <button class="chillerBtn"
                                onclick="getActiveChiller(this.value)" value="chiller 18">chiller&nbsp&nbsp&nbsp</br>
                            #</br>18&nbsp&nbsp&nbsp
                        </button>
                    </td>
                    <td>
                        <div class="indicator"></div>
                        <button class="chillerBtn"
                                onclick="getActiveChiller(this.value)" value="chiller 28">chiller&nbsp&nbsp&nbsp</br>
                            #</br>28&nbsp&nbsp&nbsp
                        </button>
                    </td>
                    <td>
                        <div class="indicator"></div>
                        <button class="chillerBtn"
                                onclick="getActiveChiller(this.value)" value="chiller 38">chiller&nbsp&nbsp&nbsp</br>
                            #</br>38&nbsp&nbsp&nbsp
                        </button>
                    </td>
                    <td>
                        <div class="indicator"></div>
                        <button class="chillerBtn"
                                onclick="getActiveChiller(this.value)" value="chiller 48">chiller&nbsp&nbsp&nbsp</br>
                            #</br>48&nbsp&nbsp&nbsp
                        </button>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="indicator"></div>
                        <button class="chillerBtn"
                                onclick="getActiveChiller(this.value)" value="chiller 09">chiller&nbsp&nbsp&nbsp</br>
                            #</br>09&nbsp&nbsp&nbsp
                        </button>
                    </td>
                    <td>
                        <div class="indicator"></div>
                        <button class="chillerBtn"
                                onclick="getActiveChiller(this.value)" value="chiller 19">chiller&nbsp&nbsp&nbsp</br>
                            #</br>19&nbsp&nbsp&nbsp
                        </button>
                    </td>
                    <td>
                        <div class="indicator"></div>
                        <button class="chillerBtn"
                                onclick="getActiveChiller(this.value)" value="chiller 29">chiller&nbsp&nbsp&nbsp</br>
                            #</br>29&nbsp&nbsp&nbsp
                        </button>
                    </td>
                    <td>
                        <div class="indicator"></div>
                        <button class="chillerBtn"
                                onclick="getActiveChiller(this.value)" value="chiller 39">chiller&nbsp&nbsp&nbsp</br>
                            #</br>39&nbsp&nbsp&nbsp
                        </button>
                    </td>
                    <td>
                        <div class="indicator"></div>
                        <button class="chillerBtn"
                                onclick="getActiveChiller(this.value)" value="chiller 49">chiller&nbsp&nbsp&nbsp</br>
                            #</br>49&nbsp&nbsp&nbsp
                        </button>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="indicator"></div>
                        <button class="chillerBtn"
                                onclick="getActiveChiller(this.value)" value="chiller 10">chiller&nbsp&nbsp&nbsp</br>
                            #</br>10&nbsp&nbsp&nbsp
                        </button>
                    </td>
                    <td>
                        <div class="indicator"></div>
                        <button class="chillerBtn"
                                onclick="getActiveChiller(this.value)" value="chiller 20">chiller&nbsp&nbsp&nbsp</br>
                            #</br>20&nbsp&nbsp&nbsp
                        </button>
                    </td>
                    <td>
                        <div class="indicator"></div>
                        <button class="chillerBtn"
                                onclick="getActiveChiller(this.value)" value="chiller 30">chiller&nbsp&nbsp&nbsp</br>
                            #</br>30&nbsp&nbsp&nbsp
                        </button>
                    </td>
                    <td>
                        <div class="indicator"></div>
                        <button class="chillerBtn"
                                onclick="getActiveChiller(this.value)" value="chiller 40">chiller&nbsp&nbsp&nbsp</br>
                            #</br>40&nbsp&nbsp&nbsp
                        </button>
                    </td>
                    <td>
                        <div class="indicator"></div>
                        <button class="chillerBtn"
                                onclick="getActiveChiller(this.value)" value="chiller 50">chiller&nbsp&nbsp&nbsp</br>
                            #</br>50&nbsp&nbsp&nbsp
                        </button>
                    </td>
                </tr>

            </table>
        </div>
        <div class="col-md-5 box guid">
            <div class="indicator"></div>
            <p>&nbsp &nbsp &nbsp error</p>
            </br>
            <div class="indicator btn-success"></div>
            <p>&nbsp &nbsp &nbsp run</p>
            </br>
            <div class="indicator btn-warning"></div>
            <p>&nbsp &nbsp &nbsp warning</p>
            </br>
            <div class="indicator B"></div>
            <p>&nbsp &nbsp &nbsp disconnect</p>
            </br>
            <div class="indicator G"></div>
            <p>&nbsp &nbsp &nbsp stop</p>
            </br>
        </div>
    </div>
    <div class="form-group">
        <textarea class="form-control" rows="5" id="warning"></textarea>
    </div>
</div>
<script>
    //           document.addEventListener('deviceready', function () {
    //    // Schedule notification for tomorrow to remember about the meeting
    //    cordova.plugins.notification.local.schedule({
    //        id: 10,
    //        title: "Alarm Notification Activated, test"
    //    });
    //}, false);

    $(document).ready(function () {
        var indx = $(".chillerBtn");
        indx.attr('disabled', true);
//          if() {
//           $(".chillerBtn").removeAttr('disabled');
//        }
        $("a.dropdown-toggle").click(function (ev) {
            $("a.dropdown-toggle").dropdown("toggle");
            return false;
        });
        $("ul.dropdown-menu a").click(function (ev) {
            $("a.dropdown-toggle").dropdown("toggle");
            return false;
        });
    })

    function getActiveChiller(val) {
        sessionStorage.setItem('activeChiller', val);
        console.log('set activeChiller ' + sessionStorage.getItem('activeChiller'));
        getSecureId(function (id) {
//                  $.get(
//        baseUrl+"/chillerInfo",
//                {id:getChillerNumber(val),sID:id},
//        function( rawdata, textStatus, jqXHR) {
//               if(jqXHR.status===202){
//                   sessionStorage.setItem('chillerInfo', rawdata);
//                   console.log(rawdata);
//                   location.href='templates/chillerInfo.html';
//
//           }else{
//                     $(".alert-danger").show();
//           }
//
//});
////TODO success and error
            $.ajax(
                    {
                        url: serverURL + "/chillerInfo",
                        data: {id: getChillerNumber(val), sID: id},
                        success: function (data, textStatus, jqXHR) {

                            sessionStorage.setItem('chillerInfo', data);
                            console.log(data);
                            location.href = 'templates/chillerInfo.html';
                        },
                        error: function (jqXHR, textStatus, errorThrown) {
                            $(".alert-danger").show();
                        }
                    }
            )
        })


    }

    function action() {

        var r = confirm("Do you want to LogOut ??!!");
        if (r == true) {
            console.log("user logout");
            getSecureId(function (id) {
                $.ajax(
                        {
                            url: serverURL + "/logout",
                            data: {id: id},
                            success: function (data, textStatus, jqXHR) {
                                console.log(data);
                                location.href = 'index.html';
                            },
                            error: function (jqXHR, textStatus, errorThrown) {
                                console.log("logout error " + errorThrown)
                            }
                        }
                )
            })
        } else {
            console.log("user not logout");
        }

    }
    ;
    function getSecureId(callback) {
        var sID = sessionStorage.getItem('secureID');
        console.log("secureID is " + sID);
        callback(sID);
    }
</script>
</body>
</html>